<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ext.NET: Readme</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="extnet-logo-large.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ext.NET
   &#160;<span id="projectnumber">4.2.0</span>
   </div>
   <div id="projectbrief">.NET Component Framework for Enterprise Level Apps</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md__a_1_devel__object_8_n_e_t_git__premium_src__build__ext_8_net_extjs_extjs-sources_modern_theme-base__readme.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Readme </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="namespace_ext.html">Ext</a> JS Modern Toolkit Theming Guidelines</p>
<h2>Dynamic Variables</h2>
<p>All variables should be defined using the <code>dynamic()</code> function. This ensures that the last variable declaration wins, and is valid throughout the entire scope, allowing variables to derive from one another without concern for ordering.</p>
<h2>File Naming</h2>
<p>All Component variable and UI mixin declarations (all non-rule-generating code) should be placed in the theme's <code>sass/var/</code> directory in a file matching the Component's class path. Since all var files are included in the build regardless of whether or not the corresponding class is actually required by the app, this allows variables to freely derive from any other variable. Including mixins in the <code>sass/var/</code> directory ensures that a derived theme can override those mixins before they are called by any code in the <code>sass/src/</code> directory.</p>
<p>All rule-generating code, including calls to UI mixins, and rules not contained inside the body of a mixin should be placed in the theme's <code>sass/src/</code> directory in a file matching the Component's class path. At build time, src files are only included if the corresponding Component is required by the app, thus ensuring that only the rules that the app actually needs are included in the CSS output.</p>
<h2>Base Styles vs. Configurable Styles</h2>
<p>Layout-specific styles, and styles related to core functionality of a Component should always be placed in <code>theme-base/sass/src/</code> in a file matching the Component's class path. The properties set in these rules should NOT be configurable using variables, as changing them would likely break the functionality or layout of the Component. Some examples of CSS properties that should generally not be configurable are:</p>
<ul>
<li><code>display</code></li>
<li><code>visibility</code></li>
<li><code>position</code></li>
<li><code>overflow</code></li>
<li><code>z-index</code></li>
</ul>
<p>Configurable styles not related to the core functionality or layout of a component should always be controlled using variables. These variables should be defined in a scss file matching the component's class path in the <code>theme-neptune/sass/var</code> directory, and the rules that use these variables should be contained in a UI mixin in the same file. Examples of commonly configurable styles are:</p>
<ul>
<li><code>background-color</code></li>
<li><code>color</code></li>
<li><code>padding</code></li>
<li><code>border-radius</code></li>
<li><code>font-size</code></li>
</ul>
<p>The neptune theme is the base for all other themes and should contain the universe of possible theming capabilities supported by the framework although it may not utilize them all itself. Themes derived from <code>theme-neptune</code> should avoid defining new UI mixins and creating their own CSS rules, but should instead simply set the values of variables defined in <code>theme-neptune</code>. When a new feature is needed by a derived theme it should be added to <code>theme-neptune</code> with variables to tune its behavior rather than adding the new feature only to the derived theme.</p>
<h2>Variable Naming Conventions</h2>
<p>Component variables should always begin with an xtype, and end with the CSS property name being styled, for example: </p><pre class="fragment">$button-font-family: dynamic(helvetica);
$button-color: dynamic(#fff);
$button-background-color: dynamic(red);
</pre><p>If the component has various states such as hovered, focused, and pressed, the name of the state should come immediately after the xtype, but before the CSS property name: </p><pre class="fragment">$button-hovered-background-color: dynamic(blue);
</pre><p>If the component has variables that control the styling of sub-elements, the name of the sub-element being styled should be included after the xtype, and state if present. For example, when styling the button's "badge" element: </p><pre class="fragment">$button-badge-color: dynamic(#fff);
$button-hovered-badge-color: dynamic(green);
</pre><p>If however, the "state" refers to a sub-element's state, it should come after that element's name. For example, if a tab has a close icon that has a separate hover state from the tab: </p><pre class="fragment">$tab-close-icon-hovered-background-color: dynamic(red);
</pre><p>Components should have separate variables for border-width, border-color, and border-style, and all three properties should accept either a single value or a list of values so that 4 sides can be specified separately if needed: </p><pre class="fragment">// BAD
$button-border: dynamic(1px solid green);

// GOOD
$button-border-color: dynamic(red yellow green blue);
$button-border-width: dynamic(1px 3px);
$button-border-style: dynamic(solid);
</pre><p>Variables should use the following names to indicate component state:</p>
<ul>
<li>"pressed" when the component is being pressed by the user or is in a pressed state</li>
<li>"pressing" if the component has a "pressing" state that is separate from "pressed"</li>
<li>"hovered" when the mouse pointer is over the element</li>
<li>"focused" when the element has focus</li>
<li>"disabled" when the component is disabled.</li>
</ul>
<p>Since "focused" can sometimes be combined with other states components may need to provide variables that indicate a combination of states, for exmaple <code>$button-focused-pressed-border-color</code></p>
<h2>Normal and Big Modes</h2>
<p>Each theme has 2 modes of sizing - normal and big. Big mode increases spacing and sizing to be more touch-screen friendly. Themes select whether or not to use big mode by inspecting <code>Ext.platformTags</code> in the theme's <code>overrides/init.js</code> and adding a CSS class name of <code>x-big</code> to the <code>&lt;html&gt;</code> element on the page. For example, the triton theme only enables big mode when loaded on a phone and uses normal mode otherwise: </p><pre class="fragment">Ext.theme.getDocCls = function() {
    return Ext.platformTags.phone ? 'x-big' : '';
};
</pre><p>All variables that set properties affecting visual size of a component, like <code>font-size</code>, <code>line-height</code>, and <code>padding</code> should have big counterparts. Big variables always have the <code>-big</code> suffix appended to the end: </p><pre class="fragment">$button-padding: dynamic(1rem);
$button-padding-big: dynamic(1.2rem);
</pre><p>SASS rules target big mode using the <code>.x-big</code> selector: </p><pre class="fragment">.#{$prefix}button {
    padding: $padding;

    .#{$prefix}big &amp; {
        padding: $padding-big;
    }
}
</pre><h2>Component UIs</h2>
<p>Every component should have a UI mixin for generating multiple visual renditions of that component. The mixin should be named <code>[xtype]-ui</code>. For example <code>button-ui</code> or <code>panel-ui</code>.</p>
<p>UI mixins should have a parameter for each of the component's global variables, and the parameter names should be the same as the global variable names with the exception that the mixin parameters should not contain the xtype in their names. For example, a global variable named <code>$button-border-radius</code>, would correspond to a parameter of the <code>button-ui</code> mixin named <code>$border-radius</code>.</p>
<p>The parameters to the UI mixin should all default to null, and should not produce any output if unspecified by the caller. This means that when the mixin is invoked it should produce a set of styling that represents a delta from the default UI. This minimizes the number of css rules required to create new UIs since the mixin automatically eliminates any null values from the output.</p>
<p>The styling for the default UI should be applied using CSS class names that do not contain a UI name, for example <code>x-button</code>, not <code>x-button-default</code>. This is the key to minimizing the number of rules required to create additional UIs, since all buttons will have the <code>x-button</code> class in addition to one or more optional <code>x-button-[ui]</code> classes. It allows the default UI to serve as a base set of styles for all other UIs.</p>
<p>A typical UI mixin should look something like this: </p><pre class="fragment">@mixin button-ui(
    $ui: null
    // $xtype is the only variable that does not default to null
    // since it is only used in selector names and does not affect
    // the output unless other non-null values are passed.  It is
    // typically only passed by mixins of subclasses (see section on
    // "Derived UIs" below)
    $xtype: button,
    $background-color: null,
    $border-radius: null
) {
    // returns '' if $ui is null, otherwise prefixes $ui with "-"
    // To generate default UI we will not pass the $ui parameter
    $ui-suffix: ui-suffix($ui);

    .#{$prefix}#{$xtype}#{$ui-suffix} {
        // Fashion compiler removes null values from output
        // If all values are null, the entire rule is eliminated.
        // This means there is usually no need to check == null
        background-color: $background-color;
        border-radius: $border-radius;
    }
}
</pre><p>Since all UI mixin parameters default to null, the default UI invocation must explicitly pass all the global variables for the component. This generates the set of base styling rules for the component that all other UIs build upon. Note that this invocation does not pass $ui so that the base styles are applied to the base <code>x-button</code> class, not a UI-specific one: </p><pre class="fragment">@include button-ui(
    $background-color: $button-background-color,
    $border-radius: $button-border-radius
);
</pre><p>To generate additional UIs, invoke the mixin again, passing only the parameters that are different from the default UI. For example, the following mixin call generates a UI named "action" that builds upon the default UI by changing the background-color to red, but inherits all other properties from the default UI via the cascade. The output from this UI invocation is very minimal - it only contains the rule or rules needed to set the background-color, nothing else. </p><pre class="fragment">@include button-ui(
    $ui: 'action',
    $background-color: red
);
</pre><h2>Derived UIs</h2>
<p>Every subclass of a Component that has a UI mixin should also have its own UI mixin, along with a complete set of global variables for configuring that mixin. The sublcass mixin should inoke the superclass mixin passing its own xtype as the <code>$xtype</code> parameter before adding any rules of its own. Any subclass variables that are not intended to have different default values from the superclass variables should default to <code>null</code>. This ensures that they will inherit the proper values via the parent CSS class rather than redefining a redundant value. NOTE: you must define a <code>classCls</code> equal to <code>x-[xtype]</code> on both Components in order for this pattern to work (See section below on CSS class names). An example of this pattern is the grid <code>pagingtoolbar</code> component which extends <code>toolbar</code>: </p><pre class="fragment">// theme-neptune/sass/var/grid/plugin/PagingToolbar.scss
$pagingtoolbar-background-color: dynamic(null);

@mixin pagingtoolbar-ui(
    $ui: null,
    $xtype: pagingtoolbar,
    $background-color: null,
    $prev-icon: null
) {
    $ui-suffix: ui-suffix($ui);

    // Call base toolbar mixin.
    // Only produces output for non-null parameters
    @include toolbar-ui(
        $ui: $ui,
        $xtype: $xtype,
        $background-color: $background-color
    );

    // paging toolbar specific styles
    .#{$prefix}#{$xtype}#{$ui-suffix} {
        .#{$prefix}icon-prev {
            @include icon($prev-icon);
        }
    }
}

// theme-neptune/sass/src/grid/plugin/PagingToolbar.scss
@include pagingtoolbar-ui(
    $background-color: $pagingtoolbar-background-color;
);
</pre><h2>Configuring Theme UIs in Derived Themes</h2>
<p>In the classic toolkit additional UIs provided with a theme typically were accompanied by a complete set of global variables for configuring that UI in derived themes. This resulted in massive amounts of duplication (variable count = total component vars * number of UIs). The modern toolkit takes a simpler approach - additional UIs provided by a theme are not configurable via global variables. Instead, these UIs are wrapped in a mixin of their own, which can be overridden by derived themes to change the parameters: </p><pre class="fragment">@mixin button-action-ui() {
    @include button-ui(
        $ui: 'action',
        $background-color: red
    );
}
</pre><p>Themes should provide a single variable for each additional UI that defaults to "true" but can be overridden to "false" in derived themes to completely disable generation of the UI. This variable should have the same name as the corresponding mixin:</p>
<p>$ $ $ </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
